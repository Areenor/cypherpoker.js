<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3>WSS_server 0.0.1</h3>










    












<section>

<header>
    
        <h2>api/CPSC_Create.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Creates a proxy CypherPoker Smart Contract and defines a few blockchain utility functions.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="api_CPSC_Create.js.html">api/CPSC_Create.js</a>, <a href="api_CPSC_Create.js.html#line3">line 3</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
            <h3>Example</h3>
            
    <pre class="prettyprint"><code>Client Request -> {
  "jsonrpc": "2.0",
  "method": "CPSC_Create",
  "id": "CPSC9052131974613838",
  "params": {
    "contractID": "14837468275268462",
    "players": [
      {
        "_registrations": {},
        "_privateID": "9128d45d296e59642d6d149dab39b40e912bba0d3e46e30150dc59041bf954b1",
        "_info": {
          "alias": "me"
        },
        "_ready": true,
        "_isDealer": true,
        "_isSmallBlind": true
        ],
        "_hasBet": false,
        "_dealtCards": [],
        "_selectedCards": [
          "0x94a32e3e65e9d4ea",
          "0x3bd8fcbf2979960b"
        ]
      },
      {
        "_registrations": {},
        "_privateID": "92360d014d471cc10f1c147c18170c89e90cc0f29a38fa5a95e8ab50c2f45c75",
        "_info": {
          "alias": "A player"
        },
        "_ready": true,
        "_isDealer": false,
        "_isBigBlind": true,
        "_hasBet": false
      }
    ],
    "prime": "0xdb71c83d5d7322a3",
    "cardDecks": {
      "faceup": [
        {
          "_mapping": "0x6db8e41eaeb99150",
          "name": "Ace of Spades",
          "shortname": "A♠",
          "suit": "spades",
          "colour": "black",
          "value": 1,
          "highvalue": 14,
          "imageURI": "./assets/cards/AS.svg"
        },
        {
          "_mapping": "0x6db8e41eaeb99151",
          "name": "Two of Spades",
          "shortname": "2♠",
          "suit": "spades",
          "colour": "black",
          "value": 2,
          "highvalue": 2,
          "imageURI": "./assets/cards/2S.svg"
        },
        ...
      ],
      "facedown": [],
      "dealt": [],
      "public": []
    },
    "user_token": "5601058615055693",
    "server_token": "9373082449982535"
  }
}Server Response -> -{
  "jsonrpc": "2.0",
  "result": {
    "contract": {
      "contractID": "14837468275268462",
      "players": [
        {
          "_registrations": {},
          "_privateID": "9128d45d296e59642d6d149dab39b40e912bba0d3e46e30150dc59041bf954b1",
          "_info": {
            "alias": "me"
          },
          "_ready": true,
          "_isDealer": true,
          "_isSmallBlind": true,
          "privateID": "9128d45d296e59642d6d149dab39b40e912bba0d3e46e30150dc59041bf954b1",
          "agreed": true
        },
        {
          "_registrations": {},
          "_privateID": "92360d014d471cc10f1c147c18170c89e90cc0f29a38fa5a95e8ab50c2f45c75",
          "_info": {
            "alias": "A player"
          },
          "_ready": true,
          "_isDealer": false,
          "_isBigBlind": true,
          "privateID": "92360d014d471cc10f1c147c18170c89e90cc0f29a38fa5a95e8ab50c2f45c75",
          "agreed": false
        }
      ],
      "prime": "0xdb71c83d5d7322a3",
      "cardDecks": {
        "faceup": [
          {
            "_mapping": "0x6db8e41eaeb99150",
            "name": "Ace of Spades",
            "shortname": "A♠",
            "suit": "spades",
            "colour": "black",
            "value": 1,
            "highvalue": 14,
            "imageURI": "./assets/cards/AS.svg"
          },
          {
            "_mapping": "0x6db8e41eaeb99151",
            "name": "Two of Spades",
            "shortname": "2♠",
            "suit": "spades",
            "colour": "black",
            "value": 2,
            "highvalue": 2,
            "imageURI": "./assets/cards/2S.svg"
          },
          ...
        ],
        "facedown": [],
        "dealt": [],
        "public": []
      }
    }
  },
  "id": "CPSC9052131974613838"
}</code></pre>

        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>api/Hello.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">API example of a simple response to "Hello".</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="api_Hello.js.html">api/Hello.js</a>, <a href="api_Hello.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
            <h3>Example</h3>
            
    <pre class="prettyprint"><code>Client Request -> {"jsonrpc":"2.0","method":"Hello","id":"0","params":{}}Server Response -> {"jsonrpc":"2.0","result":{", World!"},"id":"0"}</code></pre>

        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>api/WSS_Connect.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">WebSocket Session connection API endpoint. The handshake MUST be established prior to attemptinga connection.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="api_WSS_Connect.js.html">api/WSS_Connect.js</a>, <a href="api_WSS_Connect.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
            <h3>Example</h3>
            
    <pre class="prettyprint"><code>Client Request -> {"jsonrpc":"2.0","method":"WSS_Connect","id":"2,"params":{"user_token":"7060939278321507","server_token":"9789091435706088"}}Server Response -> {"jsonrpc":"2.0","result":{"message":"open","options":{},"private_id":"021b92efb9954fa4244c729190e05d2d9b55530d5e4f18da2d3615fdbad9c44d"},"id":"2"}Note: SHA256("9789091435706088:7060939278321507") = "021b92efb9954fa4244c729190e05d2d9b55530d5e4f18da2d3615fdbad9c44d";</code></pre>

        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>api/WSS_Handshake.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">WebSocket Session initiation API endpoint.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="api_WSS_Handshake.js.html">api/WSS_Handshake.js</a>, <a href="api_WSS_Handshake.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
            <h3>Example</h3>
            
    <pre class="prettyprint"><code>Client Request -> {"jsonrpc":"2.0","method":"WSS_Handshake","id":"1","params":{"user_token":"7060939278321507"}}Server Response -> {"jsonrpc":"2.0","result":{"message":"accept","numconnections":1,"maxconnections":3,"peerconnections":1,"server_token":"9789091435706088"},"id":"1"}</code></pre>

        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>api/WSS_Send.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">WebSocket Session message send API endpoint.<br/>The handshake and connection MUST be established prior to attempting a send.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="api_WSS_Send.js.html">api/WSS_Send.js</a>, <a href="api_WSS_Send.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
            <h3>Example</h3>
            
    <pre class="prettyprint"><code>Client Request -> {"jsonrpc":"2.0","method":"WSS_Send","id":3,"params":{"user_token":"7060939278321507","server_token":"9789091435706088","type":"broadcast","data":"Hello, everyone!"}}Server Response -> {"jsonrpc":"2.0","result":{"message":"ok"},"id":3}</code></pre>

        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>







<section>

<header>
    
        <h2>server.js</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">A JSON-RPC 2.0 WebSocket and HTTP server. The full specification (<a href="http://www.jsonrpc.org/specification">http://www.jsonrpc.org/specification</a>), including batched requests is supported.</div>
        

        


<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>0.0.1</li></ul></dd>
    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Patrick Bay</li>
        </ul>
    </dd>
    

    
    <dt class="tag-copyright">Copyright:</dt>
    <dd class="tag-copyright"><ul class="dummy"><li>MIT License</li></ul></dd>
    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="server.js.html">server.js</a>, <a href="server.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#_APIFunctions">_APIFunctions</a></li><li><a href="global.html#adjustEnvironment">adjustEnvironment</a></li><li><a href="global.html#allSessions">allSessions</a></li><li><a href="global.html#buildJSONRPC">buildJSONRPC</a></li><li><a href="global.html#config">config</a></li><li><a href="global.html#configFile">configFile</a></li><li><a href="global.html#getBlockchainBalance">getBlockchainBalance</a></li><li><a href="global.html#getGameContracts">getGameContracts</a></li><li><a href="global.html#handleHTTPRequest">handleHTTPRequest</a></li><li><a href="global.html#handleWebSocketClose">handleWebSocketClose</a></li><li><a href="global.html#handleWSDisconnect">handleWSDisconnect</a></li><li><a href="global.html#handleWSRequest">handleWSRequest</a></li><li><a href="global.html#handshakeOK">handshakeOK</a></li><li><a href="global.html#heartbeat">heartbeat</a></li><li><a href="global.html#http_server">http_server</a></li><li><a href="global.html#invokeAPIFunction">invokeAPIFunction</a></li><li><a href="global.html#JSONRPC_ERRORS">JSONRPC_ERRORS</a></li><li><a href="global.html#loadAPIFunctions">loadAPIFunctions</a></li><li><a href="global.html#loadConfig">loadConfig</a></li><li><a href="global.html#makeConnectionID">makeConnectionID</a></li><li><a href="global.html#makePrivateID">makePrivateID</a></li><li><a href="global.html#noop">noop</a></li><li><a href="global.html#onStartHTTPServer">onStartHTTPServer</a></li><li><a href="global.html#onStartWSServer">onStartWSServer</a></li><li><a href="global.html#onWSConnection">onWSConnection</a></li><li><a href="global.html#paramExists">paramExists</a></li><li><a href="global.html#ping">ping</a></li><li><a href="global.html#processRPCRequest">processRPCRequest</a></li><li><a href="global.html#registerAPIFunction">registerAPIFunction</a></li><li><a href="global.html#rpc_options">rpc_options</a></li><li><a href="global.html#sendBTCTx">sendBTCTx</a></li><li><a href="global.html#sendError">sendError</a></li><li><a href="global.html#sendResult">sendResult</a></li><li><a href="global.html#setDefaultHeaders">setDefaultHeaders</a></li><li><a href="global.html#signBTCTx">signBTCTx</a></li><li><a href="global.html#startHTTPServer">startHTTPServer</a></li><li><a href="global.html#startWSServer">startWSServer</a></li><li><a href="global.html#validateJSONRPC">validateJSONRPC</a></li><li><a href="global.html#ws_ping_interval">ws_ping_interval</a></li><li><a href="global.html#ws_ping_intervalID">ws_ping_intervalID</a></li><li><a href="global.html#ws_server">ws_server</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Sep 11 2018 19:57:19 GMT-0500 (GMT-05:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>